{% extends 'layout.html' %}

{% block head %}
<title>Add Products</title>

{% endblock %}

{% block body %}
<div class = "content">
    <h1>Add Products</h1>
    <h2 align:right>Good day, {{ session.name }}</h2>
    {% if products|length < 1 %}
    <h4> There are no products to show. Create one below!</h4>
    {% else %}

    <table class="table table-hover" :hover {
        background-color=#000000; 
    }>
        <thead> 
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Price</th>
                <th>Actions</th>
            </tr>
        </thead>
        {% for product in products %}
        <tbody> 
            <tr>
                <td>{{ product.id }}</td>
                <td>{{ product.name }}</td>
                <td style = "white-space: pre-line">{{ product.description }}</td>
                <td>{{ product.price }}</td>
                <td>
                    <a href="/delete/{{product.id}}">Delete</a>
                    <br>
                    <a href="/update/{{product.id}}">Update</a>
                </td>
            </tr>
        </tbody>
        {% endfor %}
    </table>
    {% endif %}
    
    

    <form action="/addproducts" method="POST">
        {{ form.csrf_token() }}   
    </div>
        <div class="form-group row text-align:left">
            <label for="name" class="col-sm-2 col-form-label">
            {{ form.name.label }}
            </label>
            <div class="form-group col-md-6">
            {{ form.name(class="form-control") }}
            </div>      
        </div>
        <div class="form-group row text-align:left">
            <label for="price" class="col-sm-2 col-form-label">
            {{ form.price.label }}
            </label>
            <div class="form-group col-md-6">
            {{ form.price(class="form-control") }}
            </div>      
        </div>
        <div class="form-group row text-align:left">
            <label for="description" class="col-sm-2 col-form-label">
            {{ form.description.label }}
            </label>
            <div class="form-group col-md-6">
            {{ form.description(class="form-control") }}
            </div>      
        </div>
        <div class="form-group text-center">
            {{ form.submit(class="btn btn-primary")}}
        </div>

    

    </form>
</div>
{% endblock %}